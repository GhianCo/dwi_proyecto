<ng-container *ngIf="pedidoStore.vm() as vm">
  <section class="w-full relative h-[600px]" [appLoading]="vm.pedidoLoadingSelected">
    <ng-container *ngIf="vm.pedidoSelected">
      <div class="flex flex-col h-full">

        <div class="flex justify-end mb-2">
          <button (click)="onNoClick()">
            <mat-icon fontIcon="close"></mat-icon>
          </button>
        </div>


        <div class="mb-2">
          <h3 class="font-bold text-2xl">
            Pedido
            <span># {{ vm.pedidoSelected.pedido_codigo }}</span>
          </h3>
        </div>

        <div class="mb-4">
          <div class="flex gap-2 items-center">
            <h3 class="font-bold text-xl">CLIENTE:</h3>
            <span class="text-gray-700 text-xl">{{ vm.pedidoSelected.cliente.cliente_nombres }} {{ vm.pedidoSelected.cliente.cliente_apellidos }}</span>
          </div>
        </div>

        <!-- Contenedor para la tabla que permite el scroll -->
        <div class="flex-grow overflow-auto">
          <table class="min-w-full py-4 px-6">
            <thead class="py-4 px-6 md:px-8 shadow text-md font-semibold text-secondary bg-gray-50 dark:bg-black dark:bg-opacity-5">
              <tr>
                <th class="font-bold px-6 py-4 text-left">Cant.</th>
                <th class="font-bold px-6 py-4 text-left">Producto</th>
                <th class="font-bold px-6 py-4 text-left">Precio Unitario</th>
                <th class="font-bold px-6 py-4 text-left">Desc.</th>
                <th class="font-bold px-6 py-4 text-left">Total</th>
              </tr>
            </thead>
            <tbody>
              <ng-container *ngFor="let detallepedido of vm.pedidoSelected.detallepedido">
                <tr class="border-b">
                  <td class="px-6 py-4">{{ detallepedido.detallepedido_cantidad | currencyFormat }}</td>
                  <td class="px-6 py-4">{{ detallepedido.detallepedido_descripcion }}</td>
                  <td class="px-6 py-4">{{ simboloMoneda }} {{ detallepedido.detallepedido_precio | currencyFormat }}</td>
                  <td class="px-6 py-4">{{ simboloMoneda }} {{ detallepedido.detallepedido_descuento | currencyFormat }}</td>
                  <td class="px-6 py-4">{{ simboloMoneda }} {{ detallepedido.detallepedido_precio | currencyFormat }}</td>
                </tr>
              </ng-container>
            </tbody>
          <tfoot>
            <tr>
              <td colspan="3"></td>
              <td colspan="1">
                <p class="font-bold text-base">TOTAL: </p>
              </td>
              <td colspan="1">
                <p class="text-base"> {{ simboloMoneda}} {{ vm.pedidoSelected.pedido_total | currencyFormat }}</p>
              </td>
            </tr>
            <tr>
              <td colspan="3"></td>
              <td colspan="1">
                <p class="font-bold text-base">DESCUENTOS: </p>
              </td>
              <td colspan="1">
                <p class="text-base"> {{ simboloMoneda}} {{ vm.pedidoSelected.pedido_descuento | currencyFormat }}</p>
              </td>
            </tr>
          </tfoot>
          </table>
        </div>

        <!-- Footer con los botones -->
        <div class="flex justify-end mt-4">
          
        </div>

      </div>
    </ng-container>
  </section>
</ng-container>
